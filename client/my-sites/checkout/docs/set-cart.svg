<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1666" height="958" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1666px;height:958px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1666 958" zoomAndPan="magnify"><defs><filter id="f1w5e0m54rw4nj" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1" width="141" height="943.627" x="40" y="4" fill="#F7DCC6"/><rect style="stroke:#a80036;stroke-width:1" width="141" height="943.627" x="254" y="4" fill="#F5E6B3"/><text x="298" y="16.568" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53">Calypso</text><rect style="stroke:#a80036;stroke-width:1" width="1248.5" height="943.627" x="407" y="4" fill="#B8E6BF"/><text x="962.25" y="16.568" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138">Composite Checkout</text><rect style="stroke:#a80036;stroke-width:1" width="10" height="114.553" x="105.5" y="566.723" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="173.174" x="319.5" y="522.102" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="29.311" x="935" y="246.662" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="14" x="1150" y="164.041" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><line style="stroke:#a80036;stroke-width:1" x1="110" x2="110" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="110" x2="110" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="110" x2="110" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="324" x2="324" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="324" x2="324" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="324" x2="324" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="484" x2="484" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="484" x2="484" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="484" x2="484" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="682" x2="682" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="682" x2="682" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="682" x2="682" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="939.5" x2="939.5" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="939.5" x2="939.5" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="939.5" x2="939.5" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="1154.5" x2="1154.5" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="1154.5" x2="1154.5" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="1154.5" x2="1154.5" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="1358.5" x2="1358.5" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="1358.5" x2="1358.5" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="1358.5" x2="1358.5" y1="500.791" y2="909.139"/><line style="stroke:#a80036;stroke-width:1" x1="1554.5" x2="1554.5" y1="58.799" y2="459.836"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:1,4" x1="1554.5" x2="1554.5" y1="459.836" y2="500.791"/><line style="stroke:#a80036;stroke-width:1" x1="1554.5" x2="1554.5" y1="500.791" y2="909.139"/><rect style="stroke:#a80036;stroke-width:1.5" width="119" height="30.488" x="49" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="56" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">WordPress.com</text><rect style="stroke:#a80036;stroke-width:1.5" width="119" height="30.488" x="49" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="56" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">WordPress.com</text><rect style="stroke:#a80036;stroke-width:1.5" width="119" height="30.488" x="263" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="270" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">Undocumented</text><rect style="stroke:#a80036;stroke-width:1.5" width="119" height="30.488" x="263" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="270" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105">Undocumented</text><rect style="stroke:#a80036;stroke-width:1.5" width="133" height="30.488" x="416" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="423" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119">useShoppingCart</text><rect style="stroke:#a80036;stroke-width:1.5" width="133" height="30.488" x="416" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="423" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119">useShoppingCart</text><rect style="stroke:#a80036;stroke-width:1.5" width="214" height="30.488" x="573" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="580" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="200">useCartUpdateAndRevalidate</text><rect style="stroke:#a80036;stroke-width:1.5" width="214" height="30.488" x="573" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="580" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="200">useCartUpdateAndRevalidate</text><rect style="stroke:#a80036;stroke-width:1.5" width="189" height="30.488" x="843.5" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="850.5" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175">useShoppingCartReducer</text><rect style="stroke:#a80036;stroke-width:1.5" width="189" height="30.488" x="843.5" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="850.5" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175">useShoppingCartReducer</text><rect style="stroke:#a80036;stroke-width:1.5" width="193" height="30.488" x="1056.5" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1063.5" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179">useShoppingCartManager</text><rect style="stroke:#a80036;stroke-width:1.5" width="193" height="30.488" x="1056.5" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1063.5" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179">useShoppingCartManager</text><rect style="stroke:#a80036;stroke-width:1.5" width="166" height="30.488" x="1273.5" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1280.5" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152">ShoppingCartProvider</text><rect style="stroke:#a80036;stroke-width:1.5" width="166" height="30.488" x="1273.5" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1280.5" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152">ShoppingCartProvider</text><rect style="stroke:#a80036;stroke-width:1.5" width="179" height="30.488" x="1463.5" y="23.311" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1470.5" y="43.846" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165">CheckoutSystemDecider</text><rect style="stroke:#a80036;stroke-width:1.5" width="179" height="30.488" x="1463.5" y="908.139" fill="#FEFECE" filter="url(#f1w5e0m54rw4nj)"/><text x="1470.5" y="928.674" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165">CheckoutSystemDecider</text><rect style="stroke:#a80036;stroke-width:1" width="10" height="114.553" x="105.5" y="566.723" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="173.174" x="319.5" y="522.102" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="29.311" x="935" y="246.662" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="14" x="1150" y="164.041" fill="#FFF" filter="url(#f1w5e0m54rw4nj)"/><polygon fill="#A80036" points="1543 101.42 1553 105.42 1543 109.42 1547 105.42" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="324.5" x2="1549" y1="105.42" y2="105.42"/><text x="331.5" y="85.367" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42">import</text><text x="331.5" y="100.678" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45">setCart</text><polygon fill="#A80036" points="1369.5 130.731 1359.5 134.731 1369.5 138.731 1365.5 134.731" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1363.5" x2="1554" y1="134.731" y2="134.731"/><text x="1375.5" y="129.988" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99">cartKey, setCart</text><polygon fill="#A80036" points="1171 160.041 1161 164.041 1171 168.041 1167 164.041" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1165" x2="1357.5" y1="164.041" y2="164.041"/><text x="1177" y="159.299" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99">cartKey, setCart</text><polygon fill="#A80036" points="1346.5 174.041 1356.5 178.041 1346.5 182.041 1350.5 178.041" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="1155" x2="1352.5" y1="178.041" y2="178.041"/><path fill="#FBFB77" d="M1270,191.041 L1270,231.041 L1442,231.041 L1442,201.041 L1432,191.041 L1270,191.041" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1432,191.041 L1432,201.041 L1442,201.041 L1432,191.041" style="stroke:#a80036;stroke-width:1"/><text x="1276" y="208.609" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54">manager</text><text x="1276" y="223.92" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151">stored as provider value</text><polygon fill="#A80036" points="956 242.662 946 246.662 956 250.662 952 246.662" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="950" x2="1154" y1="246.662" y2="246.662"/><polygon fill="#A80036" points="1143 271.973 1153 275.973 1143 279.973 1147 275.973" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="940" x2="1149" y1="275.973" y2="275.973"/><text x="947" y="271.231" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149">cacheStatus, dispatcher</text><polygon fill="#A80036" points="693 301.283 683 305.283 693 309.283 689 305.283" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="687" x2="1154" y1="305.283" y2="305.283"/><text x="699" y="300.541" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149">cacheStatus, dispatcher</text><polygon fill="#FBFB77" points="604 318.283 759 318.283 769 329.283 759 341.283 604 341.283 594 329.283 604 318.283" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><text x="606" y="334.852" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151">cacheStatus =&gt; &apos;invalid&apos;</text><polygon fill="#A80036" points="928 379.215 938 383.215 928 387.215 932 383.215" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="682" x2="934" y1="383.215" y2="383.215"/><text x="689" y="363.162" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54">dispatch</text><text x="689" y="378.473" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234">REQUEST_UPDATED_RESPONSE_CART</text><path fill="#FBFB77" d="M857,396.2148 L857,421.2148 L1018,421.2148 L1018,406.2148 L1008,396.2148 L857,396.2148" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1008,396.2148 L1008,406.2148 L1018,406.2148 L1008,396.2148" style="stroke:#a80036;stroke-width:1"/><text x="863" y="413.783" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140">cacheStatus: &apos;pending&apos;</text><polygon fill="#A80036" points="1143 447.836 1153 451.836 1143 455.836 1147 451.836" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="940" x2="1149" y1="451.836" y2="451.836"/><text x="947" y="447.094" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75">cacheStatus</text><text x="768.25" y="484.471" fill="#000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129">set cart asynchronously</text><polygon fill="#A80036" points="340.5 518.102 330.5 522.102 340.5 526.102 336.5 522.102" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="334.5" x2="681" y1="522.102" y2="522.102"/><text x="346.5" y="517.359" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93">&lt;&lt; setCart &gt;&gt;</text><polygon fill="#A80036" points="126.5 562.723 116.5 566.723 126.5 570.723 122.5 566.723" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="120.5" x2="318.5" y1="566.723" y2="566.723"/><text x="132.5" y="546.67" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32">POST</text><text x="132.5" y="561.981" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185">/me/shopping-cart/{cartKey}</text><path fill="#FBFB77" d="M8,579.7227 L8,665.7227 L210,665.7227 L210,589.7227 L200,579.7227 L8,579.7227" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M200,579.7227 L200,589.7227 L210,589.7227 L200,579.7227" style="stroke:#a80036;stroke-width:1"/><text x="14" y="597.291" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96">May be passed:</text><text x="14" y="627.912" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52">{ extra: {</text><text x="46" y="643.223" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149">purchaseType: &apos;renewal&apos;</text><text x="14" y="658.533" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12">} }</text><polygon fill="#A80036" points="307.5 677.275 317.5 681.275 307.5 685.275 311.5 681.275" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="110.5" x2="313.5" y1="681.275" y2="681.275"/><polygon fill="#A80036" points="670 691.275 680 695.275 670 699.275 674 695.275" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="324.5" x2="676" y1="695.275" y2="695.275"/><polygon fill="#A80036" points="928 735.896 938 739.896 928 743.896 932 739.896" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="682" x2="934" y1="739.896" y2="739.896"/><text x="689" y="719.844" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54">dispatch</text><text x="689" y="735.154" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228">RECEIVE_UPDATED_RESPONSE_CART</text><path fill="#FBFB77" d="M868,752.8965 L868,777.8965 L1008,777.8965 L1008,762.8965 L998,752.8965 L868,752.8965" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M998,752.8965 L998,762.8965 L1008,762.8965 L998,752.8965" style="stroke:#a80036;stroke-width:1"/><text x="874" y="770.465" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119">cacheStatus: &apos;valid&apos;</text><polygon fill="#A80036" points="1143 819.828 1153 823.828 1143 827.828 1147 823.828" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="940" x2="1149" y1="823.828" y2="823.828"/><text x="947" y="803.775" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75">cacheStatus</text><text x="947" y="819.086" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83">responseCart</text><polygon fill="#A80036" points="1346.5 833.828 1356.5 837.828 1346.5 841.828 1350.5 837.828" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="1155" x2="1352.5" y1="837.828" y2="837.828"/><path fill="#FBFB77" d="M1262,850.8281 L1262,875.8281 L1451,875.8281 L1451,860.8281 L1441,850.8281 L1262,850.8281" filter="url(#f1w5e0m54rw4nj)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1441,850.8281 L1441,860.8281 L1451,860.8281 L1441,850.8281" style="stroke:#a80036;stroke-width:1"/><text x="1268" y="868.396" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168">stored manager is updated</text><polygon fill="#A80036" points="495.5 887.139 485.5 891.139 495.5 895.139 491.5 891.139" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="489.5" x2="1357.5" y1="891.139" y2="891.139"/></g></svg>